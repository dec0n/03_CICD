# ADR-0002 — Стратегия CI и DevSecOps
**Дата:** 2025-10-31  
**Статус:** Accepted  

## Контекст
Нужен единый CI/CD конвейер с проверками безопасности для Python-проекта в Docker.

## Решение
GitHub Actions с этапами:
1) pre-commit (black, isort, flake8, базовые хуки)  
2) Build & Test (Docker + pytest)  
3) Gitleaks (secrets)  
4) Semgrep (SAST, OWASP Top 10)  
5) Trivy FS (deps) и Trivy Image (container)  
6) SBOM (CycloneDX)

## Последствия
**Плюсы:** раннее выявление уязвимостей, запрет секретов, прозрачный состав зависимостей.  
**Минусы:** более долгий CI, возможные false positive.

## Security Considerations
Secrets хранятся в GitHub Actions Secrets, Gitleaks предотвращает утечки, Trivy отслеживает CVE, SBOM помогает реагировать на уязвимости цепочки поставок.

## Критерии пересмотра
Добавить CodeQL/DAST, уведомления, публикацию отчётов в Security Dashboard.


